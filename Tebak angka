import tkinter as tk
import random

def mulai_game_baru():
    global angka_rahasia, percobaan_tersisa, game_over
    angka_rahasia = random.randint(1, 100)
    percobaan_tersisa = 5
    game_over = False
    info_label.config(text="Tebak angka 1 - 100")
    percobaan_label.config(text=f"Sisa percobaan: {percobaan_tersisa}")
    hasil_label.config(text="")  
    entry_tebakan.delete(0, tk.END)

def cek_tebakan():
    global percobaan_tersisa, game_over
    if game_over:  
        info_label.config(text="Game sudah selesai. Tekan Reset untuk mulai lagi.")
        return

    try:
        tebakan = int(entry_tebakan.get())
    except ValueError:
        info_label.config(text="Masukkan angka yang valid!")
        return

    percobaan_tersisa -= 1
    percobaan_label.config(text=f"Sisa percobaan: {percobaan_tersisa}")

    if tebakan < angka_rahasia:
        info_label.config(text="Terlalu kecil! Coba lagi.")
    elif tebakan > angka_rahasia:
        info_label.config(text="Terlalu besar! Coba lagi.")
    else:
        hasil_label.config(text=f"ðŸŽ‰ Tebakan benar! Angkanya adalah {angka_rahasia}.")
        game_over = True
        return

    if percobaan_tersisa == 0:
        hasil_label.config(text=f"ðŸ˜¢ Game Over! Angkanya adalah {angka_rahasia}.")
        game_over = True

root = tk.Tk()
root.title("Game Tebak Angka")
root.geometry("350x320")

judul = tk.Label(root, text="TEBAK ANGKA", font=("Arial", 22, "bold"))
judul.pack(pady=10)

info_label = tk.Label(root, text="Tebak angka 1 - 100", font=("Arial", 14))
info_label.pack(pady=5)

percobaan_label = tk.Label(root, text="Sisa percobaan: 5", font=("Arial", 12), fg="red")
percobaan_label.pack(pady=5)

entry_tebakan = tk.Entry(root, font=("Arial", 14), justify="center")
entry_tebakan.pack(pady=10)

btn_tebak = tk.Button(root, text="Tebak!", font=("Arial", 14), command=cek_tebakan)
btn_tebak.pack(pady=5)

btn_reset = tk.Button(root, text="Reset Game", font=("Arial", 12), command=mulai_game_baru)
btn_reset.pack(pady=5)

# Label untuk hasil akhir (jawaban benar / game over)
hasil_label = tk.Label(root, text="", font=("Arial", 12), fg="blue")
hasil_label.pack(pady=10)

#Program Utama
mulai_game_baru()
